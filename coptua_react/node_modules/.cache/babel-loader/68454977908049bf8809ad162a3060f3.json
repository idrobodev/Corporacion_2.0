{"ast":null,"code":"// Utilidades para manejo de archivos\n// Tipos de archivo y sus iconos\nexport const FILE_TYPES={// Documentos\npdf:{icon:'fas fa-file-pdf',color:'text-red-500',category:'document'},doc:{icon:'fas fa-file-word',color:'text-blue-500',category:'document'},docx:{icon:'fas fa-file-word',color:'text-blue-500',category:'document'},xls:{icon:'fas fa-file-excel',color:'text-green-500',category:'document'},xlsx:{icon:'fas fa-file-excel',color:'text-green-500',category:'document'},ppt:{icon:'fas fa-file-powerpoint',color:'text-orange-500',category:'document'},pptx:{icon:'fas fa-file-powerpoint',color:'text-orange-500',category:'document'},txt:{icon:'fas fa-file-alt',color:'text-gray-500',category:'document'},// Imágenes\njpg:{icon:'fas fa-file-image',color:'text-purple-500',category:'image'},jpeg:{icon:'fas fa-file-image',color:'text-purple-500',category:'image'},png:{icon:'fas fa-file-image',color:'text-purple-500',category:'image'},gif:{icon:'fas fa-file-image',color:'text-purple-500',category:'image'},svg:{icon:'fas fa-file-image',color:'text-purple-500',category:'image'},webp:{icon:'fas fa-file-image',color:'text-purple-500',category:'image'},// Videos\nmp4:{icon:'fas fa-file-video',color:'text-red-600',category:'video'},avi:{icon:'fas fa-file-video',color:'text-red-600',category:'video'},mov:{icon:'fas fa-file-video',color:'text-red-600',category:'video'},wmv:{icon:'fas fa-file-video',color:'text-red-600',category:'video'},// Audio\nmp3:{icon:'fas fa-file-audio',color:'text-indigo-500',category:'audio'},wav:{icon:'fas fa-file-audio',color:'text-indigo-500',category:'audio'},flac:{icon:'fas fa-file-audio',color:'text-indigo-500',category:'audio'},// Archivos comprimidos\nzip:{icon:'fas fa-file-archive',color:'text-yellow-600',category:'archive'},rar:{icon:'fas fa-file-archive',color:'text-yellow-600',category:'archive'},'7z':{icon:'fas fa-file-archive',color:'text-yellow-600',category:'archive'},// Código\njs:{icon:'fas fa-file-code',color:'text-yellow-500',category:'code'},html:{icon:'fas fa-file-code',color:'text-orange-600',category:'code'},css:{icon:'fas fa-file-code',color:'text-blue-600',category:'code'},json:{icon:'fas fa-file-code',color:'text-green-600',category:'code'},// Default\ndefault:{icon:'fas fa-file',color:'text-gray-400',category:'other'}};// Obtener información del tipo de archivo\nexport const getFileType=fileName=>{var _fileName$split$pop;const extension=(_fileName$split$pop=fileName.split('.').pop())===null||_fileName$split$pop===void 0?void 0:_fileName$split$pop.toLowerCase();return FILE_TYPES[extension]||FILE_TYPES.default;};// Formatear tamaño de archivo\nexport const formatFileSize=bytes=>{if(!bytes||bytes===0)return'0 B';const k=1024;const sizes=['B','KB','MB','GB','TB'];const i=Math.floor(Math.log(bytes)/Math.log(k));return parseFloat((bytes/Math.pow(k,i)).toFixed(1))+' '+sizes[i];};// Formatear fecha\nexport const formatDate=dateString=>{if(!dateString)return'N/A';const date=new Date(dateString);const now=new Date();const diffTime=Math.abs(now-date);const diffDays=Math.ceil(diffTime/(1000*60*60*24));if(diffDays===1)return'Ayer';if(diffDays<7)return\"Hace \".concat(diffDays,\" d\\xEDas\");if(diffDays<30)return\"Hace \".concat(Math.ceil(diffDays/7),\" semanas\");return date.toLocaleDateString('es-ES',{year:'numeric',month:'short',day:'numeric'});};// Validar archivo para upload\nexport const validateFile=function(file){var _file$name$split$pop;let maxSize=arguments.length>1&&arguments[1]!==undefined?arguments[1]:10*1024*1024;const errors=[];if(file.size>maxSize){errors.push(\"El archivo es muy grande (m\\xE1x. \".concat(formatFileSize(maxSize),\")\"));}// Validar tipos peligrosos\nconst dangerousTypes=['.exe','.bat','.cmd','.scr','.pif','.com'];const extension='.'+((_file$name$split$pop=file.name.split('.').pop())===null||_file$name$split$pop===void 0?void 0:_file$name$split$pop.toLowerCase());if(dangerousTypes.includes(extension)){errors.push('Tipo de archivo no permitido por seguridad');}return{isValid:errors.length===0,errors};};// Generar breadcrumbs\nexport const generateBreadcrumbs=currentPath=>{if(!currentPath)return[{name:'Raíz',path:''}];const parts=currentPath.split('/').filter(Boolean);const breadcrumbs=[{name:'Raíz',path:''}];let currentBreadcrumbPath='';parts.forEach((part,index)=>{currentBreadcrumbPath+=(index===0?'':'/')+part;breadcrumbs.push({name:part,path:currentBreadcrumbPath});});return breadcrumbs;};// Filtrar archivos por categoría\nexport const filterFilesByCategory=(files,category)=>{if(category==='all')return files;return files.filter(file=>{const fileType=getFileType(file.name);return fileType.category===category;});};// Obtener estadísticas de archivos\nexport const getFileStats=files=>{const stats={total:files.length,totalSize:0,categories:{}};files.forEach(file=>{var _file$metadata;const size=((_file$metadata=file.metadata)===null||_file$metadata===void 0?void 0:_file$metadata.size)||0;stats.totalSize+=size;const fileType=getFileType(file.name);const category=fileType.category;if(!stats.categories[category]){stats.categories[category]={count:0,size:0};}stats.categories[category].count++;stats.categories[category].size+=size;});return stats;};// Buscar archivos\nexport const searchFiles=function(files,searchTerm){let searchIn=arguments.length>2&&arguments[2]!==undefined?arguments[2]:['name'];if(!searchTerm.trim())return files;const term=searchTerm.toLowerCase();return files.filter(file=>{return searchIn.some(field=>{var _file$name$split$pop2;switch(field){case'name':return file.name.toLowerCase().includes(term);case'extension':const ext=(_file$name$split$pop2=file.name.split('.').pop())===null||_file$name$split$pop2===void 0?void 0:_file$name$split$pop2.toLowerCase();return ext===null||ext===void 0?void 0:ext.includes(term);case'category':const fileType=getFileType(file.name);return fileType.category.includes(term);default:return false;}});});};// Ordenar archivos\nexport const sortFiles=function(files,sortBy){let sortOrder=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'asc';return[...files].sort((a,b)=>{var _a$metadata,_b$metadata;let aValue,bValue;switch(sortBy){case'size':aValue=((_a$metadata=a.metadata)===null||_a$metadata===void 0?void 0:_a$metadata.size)||0;bValue=((_b$metadata=b.metadata)===null||_b$metadata===void 0?void 0:_b$metadata.size)||0;break;case'date':aValue=new Date(a.created_at||0);bValue=new Date(b.created_at||0);break;case'type':aValue=getFileType(a.name).category;bValue=getFileType(b.name).category;break;default:// name\naValue=a.name.toLowerCase();bValue=b.name.toLowerCase();}if(sortOrder==='desc'){return aValue<bValue?1:-1;}return aValue>bValue?1:-1;});};","map":null,"metadata":{},"sourceType":"module"}