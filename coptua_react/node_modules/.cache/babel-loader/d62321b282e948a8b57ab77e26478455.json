{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useHistory}from\"react-router-dom\";import DashboardLayout from\"../../components/Dashboard/DashboardLayout\";import{dbService}from\"../../services/database\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=()=>{const[dashboardData,setDashboardData]=useState(null);const[loading,setLoading]=useState(true);const history=useHistory();// Load dashboard data\nuseEffect(()=>{const loadDashboardData=async()=>{try{setLoading(true);// Load basic stats\nconst{participantes,mensualidades}=await dbService.getDashboardData();// Calculate stats from real data\nconst stats={totalParticipantes:participantes||0,participantesActivos:participantes||0,// Assuming all are active for now\ntotalMensualidades:mensualidades||0,mensualidadesPagadas:Math.floor((mensualidades||0)*0.7),// Mock 70% paid\nmensualidadesPendientes:Math.ceil((mensualidades||0)*0.3)// Mock 30% pending\n};setDashboardData(stats);}catch(error){console.error('Error loading dashboard data:',error);// Set default values on error\nsetDashboardData({totalParticipantes:0,participantesActivos:0,totalMensualidades:0,mensualidadesPagadas:0,mensualidadesPendientes:0});}finally{setLoading(false);}};loadDashboardData();},[]);if(loading){return/*#__PURE__*/_jsx(DashboardLayout,{title:\"Dashboard\",subtitle:\"Corporaci\\xF3n Todo por un Alma\",loading:true,loadingText:\"Cargando dashboard...\"});}return/*#__PURE__*/_jsxs(DashboardLayout,{title:\"Dashboard\",subtitle:\"Corporaci\\xF3n Todo por un Alma\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 py-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-Lato font-bold text-gray-800 mb-6\",children:\"Resumen General\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-2xl shadow-lg p-6 border border-gray-100 hover:shadow-xl transition-shadow duration-300 group\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-Poppins font-medium text-gray-600\",children:\"Participantes Activos\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-Lato font-bold text-blue-600 mt-2\",children:(dashboardData===null||dashboardData===void 0?void 0:dashboardData.totalParticipantes)||0}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs font-Poppins text-gray-500 mt-1\",children:\"Total registrados\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4 bg-gradient-to-br from-blue-100 to-blue-200 rounded-2xl group-hover:scale-110 transition-transform duration-300\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-users text-blue-600 text-2xl\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-lg p-6 border border-gray-100 hover:shadow-xl transition-shadow duration-300 group\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-Poppins font-medium text-gray-600\",children:\"Mensualidades\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-Lato font-bold text-green-600 mt-2\",children:(dashboardData===null||dashboardData===void 0?void 0:dashboardData.mensualidadesPagadas)||0}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs font-Poppins text-gray-500 mt-1\",children:[\"Pendientes: \",(dashboardData===null||dashboardData===void 0?void 0:dashboardData.mensualidadesPendientes)||0]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4 bg-gradient-to-br from-green-100 to-green-200 rounded-2xl group-hover:scale-110 transition-transform duration-300\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-dollar-sign text-green-600 text-2xl\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-xs font-Poppins text-gray-500 mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Pagadas\"}),/*#__PURE__*/_jsxs(\"span\",{children:[dashboardData&&dashboardData.mensualidadesPagadas+dashboardData.mensualidadesPendientes>0?Math.round(dashboardData.mensualidadesPagadas/(dashboardData.mensualidadesPagadas+dashboardData.mensualidadesPendientes)*100):0,\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-green-500 to-green-600 h-2 rounded-full transition-all duration-500\",style:{width:\"\".concat(dashboardData&&dashboardData.mensualidadesPagadas+dashboardData.mensualidadesPendientes>0?Math.round(dashboardData.mensualidadesPagadas/(dashboardData.mensualidadesPagadas+dashboardData.mensualidadesPendientes)*100):0,\"%\")}})})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"px-6 py-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-Lato font-bold text-gray-800 mb-4\",children:\"Acceso R\\xE1pido\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>history.push('/participantes'),className:\"p-4 bg-white rounded-2xl shadow-lg border border-gray-100 hover:shadow-xl hover:scale-105 transition-all duration-300 group\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-gradient-to-br from-blue-100 to-blue-200 rounded-2xl mb-2 group-hover:scale-110 transition-transform duration-300\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user-plus text-blue-600 text-xl\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-Poppins font-medium text-gray-700\",children:\"Gestionar Participantes\"})]})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>history.push('/financiero'),className:\"p-4 bg-white rounded-2xl shadow-lg border border-gray-100 hover:shadow-xl hover:scale-105 transition-all duration-300 group\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-gradient-to-br from-green-100 to-green-200 rounded-2xl mb-2 group-hover:scale-110 transition-transform duration-300\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-dollar-sign text-green-600 text-xl\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-Poppins font-medium text-gray-700\",children:\"Gesti\\xF3n Financiera\"})]})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>history.push('/configuracion'),className:\"p-4 bg-white rounded-2xl shadow-lg border border-gray-100 hover:shadow-xl hover:scale-105 transition-all duration-300 group\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-gradient-to-br from-purple-100 to-purple-200 rounded-2xl mb-2 group-hover:scale-110 transition-transform duration-300\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-cog text-purple-600 text-xl\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-Poppins font-medium text-gray-700\",children:\"Configuraci\\xF3n\"})]})})]})]})]});};export default Dashboard;","map":null,"metadata":{},"sourceType":"module"}